        -:    0:Source:2331.c
        -:    0:Graph:2331.gcno
        -:    0:Data:2331.gcda
        -:    0:Runs:1
        -:    1:/* Check that gcov correctly rounds nearly zero to nonzero and nearly
        -:    2:   100 to not-100.
        -:    3:
        -:    4:   Copyright (C) 2002 Free Software Foundation, Inc.
        -:    5:   Contributed by Nathan Sidwell <nathan@codesourcery.com>
        -:    6:*/
        -:    7:
        -:    8:/* { dg-options "-fprofile-arcs -ftest-coverage" } */
        -:    9:/* { dg-do run { target native } } */
        -:   10:
     2000:   11:int proxy(int i) { return i; }
        -:   12:
     1000:   13:int foo(int i) {
     1000:   14:  if (i > 0) /* branch(1) */
      999:   15:    return proxy(1);
        1:   16:  else if (i < 0) /* branch(100) */
    #####:   17:    return proxy(-1);
        -:   18:  else
        1:   19:    return proxy(0);
        -:   20:}
        -:   21:
     1000:   22:int baz(int i) {
     1000:   23:  if (i == 0) /* branch(99) */
        1:   24:    return proxy(0);
      999:   25:  else if (i > 0) /* branch(0)*/
      999:   26:    return proxy(1);
        -:   27:  else
    #####:   28:    return proxy(-1);
        -:   29:}
        -:   30:
        1:   31:int main() {
        1:   32:  int t = 0;
        -:   33:  int ix;
        -:   34:
     1001:   35:  for (ix = 0; ix != 1000; ix++)
     1000:   36:    t += foo(ix) + baz(ix);
        -:   37:
        1:   38:  return t == 0;
        -:   39:}
        -:   40:
        -:   41:/* { dg-final { run-gcov branches {-b gcov-8.c } } } */
