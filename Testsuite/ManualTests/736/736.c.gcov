        -:    0:Source:736.c
        -:    0:Graph:736.gcno
        -:    0:Data:736.gcda
        -:    0:Runs:1
        -:    1:/* PR c/70093 */
        -:    2:/* { dg-do run } */
        -:    3:/* { dg-options "" } */
        -:    4:/* { dg-require-effective-target alloca } */
        -:    5:
        1:    6:void foo(int n) {
        1:    7:  struct S {
        1:    8:    int a[n];
        -:    9:  };
        -:   10:
        6:   11:  struct S fn(void) {
        6:   12:    struct S s;
        6:   13:    s.a[0] = 42;
        6:   14:    return s;
        -:   15:  }
        -:   16:
        2:   17:  auto struct S fn2(void) { return fn(); }
        -:   18:
        1:   19:  struct S x;
        1:   20:  fn();
        1:   21:  fn2();
        1:   22:  x = fn();
        -:   23:
        1:   24:  if (x.a[0] != 42)
    #####:   25:    __builtin_abort();
        -:   26:
        1:   27:  if (fn().a[0] != 42)
    #####:   28:    __builtin_abort();
        -:   29:
        1:   30:  __typeof__(fn()) *p = &x;
        1:   31:  if (p->a[0] != 42)
    #####:   32:    __builtin_abort();
        -:   33:
        1:   34:  if (fn2().a[0] != 42)
    #####:   35:    __builtin_abort();
        1:   36:}
        -:   37:
        1:   38:int main(void) { foo(1); }
