        -:    0:Source:1205.c
        -:    0:Graph:1205.gcno
        -:    0:Data:1205.gcda
        -:    0:Runs:1
        -:    1:/* PR target/78796 */
        -:    2:/* { dg-do run } */
        -:    3:/* { dg-options "-O2" } */
        -:    4:/* { dg-additional-options "-mcmodel=large" { target aarch64-*-* } } */
        -:    5:/* { dg-require-effective-target tls_runtime } */
        -:    6:/* { dg-add-options tls } */
        -:    7:
        -:    8:struct S {
        -:    9:  int a, b, c, d, e;
        -:   10:};
        -:   11:struct S t;
        -:   12:__thread struct S s;
        -:   13:
        1:   14:__attribute__((used, noinline, noclone)) void foo(int *x, int *y) {
        1:   15:  asm volatile("" : : "g"(x), "g"(y) : "memory");
        1:   16:  if (*x != 1 || *y != 2)
    #####:   17:    __builtin_abort();
        1:   18:}
        -:   19:
        1:   20:__attribute__((used, noinline, noclone)) void bar(void) { foo(&t.c, &s.c); }
        -:   21:
        1:   22:int main() {
        1:   23:  t.c = 1;
        1:   24:  s.c = 2;
        1:   25:  bar();
        1:   26:  return 0;
        -:   27:}
