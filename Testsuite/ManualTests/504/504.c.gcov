        -:    0:Source:504.c
        -:    0:Graph:504.gcno
        -:    0:Data:504.gcda
        -:    0:Runs:1
        -:    1:typedef unsigned int dev_t;
        -:    2:typedef unsigned int kdev_t;
        -:    3:
        1:    4:static inline kdev_t to_kdev_t(int dev) {
        -:    5:  int major, minor;
        -:    6:
        -:    7:  if (sizeof(kdev_t) == 16)
        -:    8:    return (kdev_t)dev;
        1:    9:  major = (dev >> 8);
        1:   10:  minor = (dev & 0xff);
        1:   11:  return (((major) << 22) | (minor));
        -:   12:}
        -:   13:
        1:   14:void do_mknod(const char *filename, int mode, kdev_t dev) {
        1:   15:  if (dev == 0x15800078)
        1:   16:    exit(0);
        -:   17:  else
    #####:   18:    abort();
        -:   19:}
        -:   20:
        1:   21:char *getname(const char *filename) {
        -:   22:  register unsigned int a1, a2, a3, a4, a5, a6, a7, a8, a9;
        1:   23:  a1 = (unsigned int)(filename)*5 + 1;
        1:   24:  a2 = (unsigned int)(filename)*6 + 2;
        1:   25:  a3 = (unsigned int)(filename)*7 + 3;
        1:   26:  a4 = (unsigned int)(filename)*8 + 4;
        1:   27:  a5 = (unsigned int)(filename)*9 + 5;
        1:   28:  a6 = (unsigned int)(filename)*10 + 5;
        1:   29:  a7 = (unsigned int)(filename)*11 + 5;
        1:   30:  a8 = (unsigned int)(filename)*12 + 5;
        1:   31:  a9 = (unsigned int)(filename)*13 + 5;
        1:   32:  return (char *)(a1 * a2 + a3 * a4 + a5 * a6 + a7 * a8 + a9);
        -:   33:}
        -:   34:
        1:   35:int sys_mknod(const char *filename, int mode, dev_t dev) {
        -:   36:  int error;
        -:   37:  char *tmp;
        -:   38:
        1:   39:  tmp = getname(filename);
        1:   40:  error = ((long)(tmp));
        1:   41:  do_mknod(tmp, mode, to_kdev_t(dev));
    #####:   42:  return error;
        -:   43:}
        -:   44:
        1:   45:int main(void) {
        -:   46:  if (sizeof(int) != 4)
        -:   47:    exit(0);
        -:   48:
        1:   49:  return sys_mknod("test", 1, 0x12345678);
        -:   50:}
