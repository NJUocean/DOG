        -:    0:Source:31.c
        -:    0:Graph:31.gcno
        -:    0:Data:31.gcda
        -:    0:Runs:1
        -:    1:/* PR target/20322 */
        -:    2:
        -:    3:extern void abort(void);
        -:    4:
        -:    5:typedef unsigned long T;
        -:    6:typedef struct {
        -:    7:  T a, b;
        -:    8:  unsigned char c, d;
        -:    9:} S;
        -:   10:
        -:   11:#define M (sizeof(T) * 4)
        -:   12:
        1:   13:S __attribute__((noinline)) foo(T x, T y) {
        -:   14:  S e;
        -:   15:  T f[2], g;
        -:   16:
        1:   17:  e.b = (x & (~(T)0 >> M)) * (y & (~(T)0 >> M));
        1:   18:  e.a = (x >> M) * (y >> M);
        -:   19:
        1:   20:  f[0] = (x & (~(T)0 >> M)) * (y >> M);
        1:   21:  f[1] = (x >> M) * (y & (~(T)0 >> M));
        -:   22:
        1:   23:  g = e.b;
        1:   24:  e.b += (f[0] & (~(T)0 >> M)) << M;
        1:   25:  if (e.b < g)
    #####:   26:    e.a++;
        -:   27:
        1:   28:  g = e.b;
        1:   29:  e.b += (f[1] & (~(T)0 >> M)) << M;
        1:   30:  if (e.b < g)
    #####:   31:    e.a++;
        -:   32:
        1:   33:  e.a += (f[0] >> M);
        1:   34:  e.a += (f[1] >> M);
        1:   35:  e.c = 1;
        1:   36:  e.d = 0;
        -:   37:
        1:   38:  return e;
        -:   39:}
        -:   40:
        1:   41:int main(void) {
        1:   42:  T x = 1UL << (M * 2 - 1);
        1:   43:  S y = foo(1, x);
        1:   44:  if (y.a || y.b != x || y.c != 1 || y.d)
    #####:   45:    abort();
        1:   46:  return 0;
        -:   47:}
