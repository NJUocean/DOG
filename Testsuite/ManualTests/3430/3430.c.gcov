        -:    0:Source:3430.c
        -:    0:Graph:3430.gcno
        -:    0:Data:3430.gcda
        -:    0:Runs:1
        -:    1:/* Instead of ICE, we'd like "HSA does not implement indirect calls".  */
        -:    2:
        -:    3:/* Reduced from 'libgomp.c/target-39.c'.  */
        -:    4:
        -:    5:/* { dg-require-effective-target offload_hsa } */
        -:    6:/* { dg-additional-options "-Whsa" } to override '{gcc,g++}.dg/gomp/gomp.exp'.
        -:    7: */
        -:    8:
        -:    9:typedef void (*fnp)(void);
        1:   10:void f1(void) {}
        1:   11:fnp f2(void) { return f1; }
        -:   12:#pragma omp declare target to(f1, f2)
        -:   13:
        1:   14:int main() {
        -:   15:#pragma omp target
        -:   16:  {
        1:   17:    fnp fnp = f2();
        1:   18:    fnp(); /* { dg-message "note: support for HSA does not implement indirect
        -:   19:              calls" } */
        -:   20:  }
        1:   21:  return 0;
        -:   22:}
        -:   23:
        -:   24:/* { dg-warning "could not emit HSAIL for the function" "" { target *-*-* } 0 }
        -:   25: */
