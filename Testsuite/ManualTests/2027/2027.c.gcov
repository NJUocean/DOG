        -:    0:Source:2027.c
        -:    0:Graph:2027.gcno
        -:    0:Data:2027.gcda
        -:    0:Runs:1
        -:    1:/* { dg-do run } */
        -:    2:/* { dg-options "-O2 -fno-inline -fpredictive-commoning
        -:    3: * -fdump-tree-pcom-details" } */
        -:    4:
        -:    5:int arr[105] = {2, 3, 5, 7, 11};
        -:    6:int result0[10] = {2, 3, 5, 7, 11};
        -:    7:int result1[10] = {0, -1, 5, -2, 11, 0};
        -:    8:int result2[10] = {0, 0, -1, -2, -2, 0};
        -:    9:int result3[10] = {0, 0, 0, -1, -2, -2, 0};
        -:   10:int result4[10] = {0, 0, 0, 0, -1, -2, -2, 0};
        -:   11:int result100[105] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0,  0,  0, 0, 0, 0, 0,
        -:   12:                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0,  0,  0, 0, 0, 0, 0,
        -:   13:                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0,  0,  0, 0, 0, 0, 0,
        -:   14:                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0,  0,  0, 0, 0, 0, 0,
        -:   15:                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0,  0,  0, 0, 0, 0, 0,
        -:   16:                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, -2, -2, 0};
        -:   17:
        -:   18:extern void abort(void);
        -:   19:int sum;
        -:   20:
        6:   21:void __attribute__((noinline)) foo(int *restrict a, int len, int t1, int t2) {
        -:   22:  int i;
      116:   23:  for (i = 0; i < len; i++) {
      110:   24:    a[i] = t1;
      110:   25:    a[i + 3] = t2;
      110:   26:    a[i + 1] = -1;
      110:   27:    sum = sum + a[i] + a[i + 3];
        -:   28:  }
        6:   29:}
        -:   30:
        6:   31:void check(int *a, int *res, int len, int sval) {
        -:   32:  int i;
        -:   33:
        6:   34:  if (sum != sval)
    #####:   35:    abort();
        -:   36:
      161:   37:  for (i = 0; i < len; i++)
      155:   38:    if (a[i] != res[i])
    #####:   39:      abort();
        6:   40:}
        -:   41:
        1:   42:int main(void) {
        1:   43:  foo(arr, 0, 0, -2);
        1:   44:  check(arr, result0, 10, 0);
        -:   45:
        1:   46:  foo(arr, 1, 0, -2);
        1:   47:  check(arr, result1, 10, -2);
        -:   48:
        1:   49:  foo(arr, 2, 0, -2);
        1:   50:  check(arr, result2, 10, -6);
        -:   51:
        1:   52:  foo(arr, 3, 0, -2);
        1:   53:  check(arr, result3, 10, -12);
        -:   54:
        1:   55:  foo(arr, 4, 0, -2);
        1:   56:  check(arr, result4, 10, -20);
        -:   57:
        1:   58:  foo(arr, 100, 0, -2);
        1:   59:  check(arr, result100, 105, -220);
        -:   60:
        1:   61:  return 0;
        -:   62:}
        -:   63:/* { dg-final { scan-tree-dump "Store-stores chain" "pcom"} } */
