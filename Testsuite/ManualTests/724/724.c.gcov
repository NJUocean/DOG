        -:    0:Source:724.c
        -:    0:Graph:724.gcno
        -:    0:Data:724.gcda
        -:    0:Runs:1
        -:    1:/* { dg-do compile } */
        -:    2:/* { dg-options "-O2" } */
        -:    3:
        -:    4:typedef __SIZE_TYPE__ size_t;
        -:    5:
        -:    6:extern void warn_memset_zero_len(void) __attribute__((
        -:    7:    __warning__("memset used with constant zero length parameter;"
        -:    8:                " this could be due to transposed parameters")));
        -:    9:
        -:   10:extern inline __attribute__((gnu_inline, always_inline, artificial)) void *
        -:   11:memset(void *dest, int ch, size_t len) {
        -:   12:  if (__builtin_constant_p(len) && len == 0) {
        -:   13:    warn_memset_zero_len(); /* { dg-warning "memset used with constant zero" }
        -:   14:                             */
        -:   15:    return dest;
        -:   16:  }
        1:   17:  return __builtin_memset(dest, ch, len);
        -:   18:}
        -:   19:
        -:   20:char buf[10];
        -:   21:
        1:   22:int main(void) {
        -:   23:  memset(buf, sizeof(buf), 0);
        1:   24:  return 0;
        -:   25:}
