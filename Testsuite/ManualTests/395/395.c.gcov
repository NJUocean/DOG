        -:    0:Source:395.c
        -:    0:Graph:395.gcno
        -:    0:Data:395.gcda
        -:    0:Runs:1
        -:    1:/* Check that the three loops are fused.  */
        -:    2:
        -:    3:/* Make sure we fuse the loops like this:
        -:    4:AST generated by isl:
        -:    5:for (int c0 = 0; c0 <= 99; c0 += 1) {
        -:    6:  S_3(c0);
        -:    7:  S_6(c0);
        -:    8:  S_9(c0);
        -:    9:}
        -:   10:*/
        -:   11:
        -:   12:/* { dg-final { scan-tree-dump-times "AST generated by isl:.*for \\(int c0 = 0;
        -:   13: * c0 <= 99; c0 \\+= 1\\) \\{.*S_.*\\(c0\\);.*S_.*\\(c0\\);.*S_.*\\(c0\\);.*\\}"
        -:   14: * 1 "graphite" } } */
        -:   15:
        -:   16:#define MAX 100
        -:   17:int A[MAX], B[MAX], C[MAX];
        -:   18:
        -:   19:extern void abort();
        -:   20:
        1:   21:int main(void) {
        -:   22:  int i;
        -:   23:
        -:   24:  /* The next three loops should be fused.  */
      101:   25:  for (i = 0; i < MAX; i++) {
      100:   26:    A[i] = i;
      100:   27:    B[i] = i + 2;
      100:   28:    C[i] = i + 1;
        -:   29:  }
      101:   30:  for (i = 0; i < MAX; i++)
      100:   31:    A[i] += B[i];
      101:   32:  for (i = 0; i < MAX; i++)
      100:   33:    A[i] += C[i];
        -:   34:
      101:   35:  for (i = 0; i < MAX; i++)
      100:   36:    if (A[i] != 3 * i + 3)
    #####:   37:      abort();
        -:   38:
        1:   39:  return 0;
        -:   40:}
