        -:    0:Source:1129.c
        -:    0:Graph:1129.gcno
        -:    0:Data:1129.gcda
        -:    0:Runs:1
        -:    1:/* The same test as loop-3c.c.  It failed on ia64
        -:    2:   due to not handling of subreg in the lhs that is fixed.  */
        -:    3:/* { dg-do run } */
        -:    4:/* { dg-options "-O2 -fmodulo-sched -fmodulo-sched-allow-regmoves
        -:    5: * -fdump-rtl-sms" } */
        -:    6:
        -:    7:#include <limits.h>
        -:    8:extern void abort(void);
        -:    9:
        -:   10:void *a[255];
        -:   11:
        2:   12:__attribute__((noinline)) void f(int m) {
        -:   13:  int i;
        2:   14:  int sh = 0x100;
        2:   15:  i = m;
        -:   16:  do {
        5:   17:    a[sh >>= 1] = ((unsigned)i << 3) + (char *)a;
        5:   18:    i += 4;
        5:   19:  } while (i < INT_MAX / 2 + 1 + 4 * 4);
        2:   20:}
        -:   21:
        1:   22:int main() {
        1:   23:  a[0x10] = 0;
        1:   24:  a[0x08] = 0;
        1:   25:  f(INT_MAX / 2 + INT_MAX / 4 + 2);
        1:   26:  if (a[0x10] || a[0x08])
    #####:   27:    abort();
        1:   28:  a[0x10] = 0;
        1:   29:  a[0x08] = 0;
        1:   30:  f(INT_MAX / 2 + 1);
        1:   31:  if (!a[0x10] || a[0x08])
    #####:   32:    abort();
        1:   33:  return 0;
        -:   34:}
        -:   35:
        -:   36:/* { dg-final { scan-rtl-dump-times "SMS succeeded" 1 "sms"  { target
        -:   37: * powerpc*-*-* } } } */
