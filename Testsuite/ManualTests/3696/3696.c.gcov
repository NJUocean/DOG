        -:    0:Source:3696.c
        -:    0:Graph:3696.gcno
        -:    0:Data:3696.gcda
        -:    0:Runs:1
        -:    1:extern void abort(void);
      256:    2:static void fixnum_neg(signed char x, signed char *py, int *pv) {
        -:    3:  unsigned char ux, uy;
        -:    4:
      256:    5:  ux = (unsigned char)x;
      256:    6:  uy = -ux;
      256:    7:  *py = (uy <= 127) ? (signed char)uy : (-(signed char)(255 - uy) - 1);
      256:    8:  *pv = (x == -128) ? 1 : 0;
      256:    9:}
        -:   10:
      256:   11:void __attribute__((noinline)) foo(int x, int y, int v) {
      256:   12:  if (y < -128 || y > 127)
    #####:   13:    abort();
      256:   14:}
        -:   15:
        1:   16:int test_neg(void) {
        -:   17:  signed char x, y;
        -:   18:  int v, err;
        -:   19:
        1:   20:  err = 0;
        1:   21:  x = -128;
        -:   22:  for (;;) {
      256:   23:    fixnum_neg(x, &y, &v);
      256:   24:    foo((int)x, (int)y, v);
      256:   25:    if ((v && x != -128) || (!v && x == -128))
    #####:   26:      ++err;
      256:   27:    if (x == 127)
        1:   28:      break;
      255:   29:    ++x;
        -:   30:  }
        1:   31:  return err;
        -:   32:}
        -:   33:
        1:   34:int main(void) {
        -:   35:  if (sizeof(char) != 1)
        -:   36:    return 0;
        1:   37:  if (test_neg() != 0)
    #####:   38:    abort();
        1:   39:  return 0;
        -:   40:}
