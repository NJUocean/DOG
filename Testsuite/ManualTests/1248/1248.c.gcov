        -:    0:Source:1248.c
        -:    0:Graph:1248.gcno
        -:    0:Data:1248.gcda
        -:    0:Runs:1
        -:    1:/* Test that operations on bit-fields yield results reduced to bit-field
        -:    2:   type.  */
        -:    3:/* Origin: Joseph Myers <jsm@polyomino.org.uk> */
        -:    4:
        -:    5:extern void exit(int);
        -:    6:extern void abort(void);
        -:    7:
        -:    8:struct s {
        -:    9:  unsigned long long u33 : 33;
        -:   10:  unsigned long long u40 : 40;
        -:   11:  unsigned long long u41 : 41;
        -:   12:};
        -:   13:
        -:   14:struct s a = {0x100000, 0x100000, 0x100000};
        -:   15:struct s b = {0x100000000ULL, 0x100000000ULL, 0x100000000ULL};
        -:   16:struct s c = {0x1FFFFFFFFULL, 0, 0};
        -:   17:
        1:   18:int main(void) {
        1:   19:  if (a.u33 * a.u33 != 0 || a.u33 * a.u40 != 0 || a.u40 * a.u33 != 0 ||
        1:   20:      a.u40 * a.u40 != 0)
    #####:   21:    abort();
        1:   22:  if (a.u33 * a.u41 != 0x10000000000ULL || a.u40 * a.u41 != 0x10000000000ULL ||
        1:   23:      a.u41 * a.u33 != 0x10000000000ULL || a.u41 * a.u40 != 0x10000000000ULL ||
        1:   24:      a.u41 * a.u41 != 0x10000000000ULL)
    #####:   25:    abort();
        1:   26:  if (b.u33 + b.u33 != 0)
    #####:   27:    abort();
        1:   28:  if (b.u33 + b.u40 != 0x200000000ULL || b.u33 + b.u41 != 0x200000000ULL ||
        1:   29:      b.u40 + b.u33 != 0x200000000ULL || b.u40 + b.u40 != 0x200000000ULL ||
        1:   30:      b.u40 + b.u41 != 0x200000000ULL || b.u41 + b.u33 != 0x200000000ULL ||
        1:   31:      b.u41 + b.u40 != 0x200000000ULL || b.u41 + b.u41 != 0x200000000ULL)
    #####:   32:    abort();
        1:   33:  if (a.u33 - b.u33 != 0x100100000ULL || a.u33 - b.u40 != 0xFF00100000ULL ||
        1:   34:      a.u33 - b.u41 != 0x1FF00100000ULL || a.u40 - b.u33 != 0xFF00100000ULL ||
        1:   35:      a.u40 - b.u40 != 0xFF00100000ULL || a.u40 - b.u41 != 0x1FF00100000ULL ||
        1:   36:      a.u41 - b.u33 != 0x1FF00100000ULL || a.u41 - b.u40 != 0x1FF00100000ULL ||
        1:   37:      a.u41 - b.u41 != 0x1FF00100000ULL)
    #####:   38:    abort();
        1:   39:  if (++c.u33 != 0 || --c.u40 != 0xFFFFFFFFFFULL || c.u41-- != 0)
    #####:   40:    abort();
        1:   41:  exit(0);
        -:   42:}
