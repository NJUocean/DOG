        -:    0:Source:2873.c
        -:    0:Graph:2873.gcno
        -:    0:Data:2873.gcda
        -:    0:Runs:1
        -:    1:/* { dg-do run } */
        -:    2:/* { dg-additional-options "-mno-speculate-indirect-jumps" } */
        -:    3:/* { dg-warning "'-mno-speculate-indirect-jumps' is deprecated" "" { target
        -:    4: * *-*-* } 0 } */
        -:    5:
        -:    6:/* Test for deliberate misprediction of jump tables.  */
        -:    7:
        9:    8:void __attribute__((noinline)) bar() {}
        -:    9:
        9:   10:int foo(int x) {
        -:   11:  int a;
        -:   12:
        9:   13:  switch (x) {
        1:   14:  default:
        1:   15:    a = -1;
        1:   16:    break;
        1:   17:  case 0:
        1:   18:    a = x * x + 3;
        1:   19:    break;
        1:   20:  case 1:
        1:   21:    a = x + 1;
        1:   22:    break;
        1:   23:  case 2:
        1:   24:    a = x + x;
        1:   25:    break;
        1:   26:  case 3:
        1:   27:    a = x << 3;
        1:   28:    break;
        1:   29:  case 4:
        1:   30:    a = x >> 1;
        1:   31:    break;
        1:   32:  case 5:
        1:   33:    a = x;
        1:   34:    break;
        1:   35:  case 6:
        1:   36:    a = 0;
        1:   37:    break;
        1:   38:  case 7:
        1:   39:    a = x * x + x;
        1:   40:    break;
        -:   41:  }
        -:   42:
        9:   43:  bar();
        -:   44:
        9:   45:  return a;
        -:   46:}
        -:   47:
        1:   48:int main() {
        1:   49:  if (foo(0) != 3)
    #####:   50:    __builtin_abort();
        -:   51:
        1:   52:  if (foo(1) != 2)
    #####:   53:    __builtin_abort();
        -:   54:
        1:   55:  if (foo(2) != 4)
    #####:   56:    __builtin_abort();
        -:   57:
        1:   58:  if (foo(3) != 24)
    #####:   59:    __builtin_abort();
        -:   60:
        1:   61:  if (foo(4) != 2)
    #####:   62:    __builtin_abort();
        -:   63:
        1:   64:  if (foo(5) != 5)
    #####:   65:    __builtin_abort();
        -:   66:
        1:   67:  if (foo(6) != 0)
    #####:   68:    __builtin_abort();
        -:   69:
        1:   70:  if (foo(7) != 56)
    #####:   71:    __builtin_abort();
        -:   72:
        1:   73:  if (foo(8) != -1)
    #####:   74:    __builtin_abort();
        -:   75:
        1:   76:  return 0;
        -:   77:}
