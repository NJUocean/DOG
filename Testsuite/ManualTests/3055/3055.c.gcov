        -:    0:Source:3055.c
        -:    0:Graph:3055.gcno
        -:    0:Data:3055.gcda
        -:    0:Runs:1
        -:    1:/* Bug in reorg.c, deleting the "++" in the last loop in main.
        -:    2:   Origin: <hp@axis.com>.  */
        -:    3:
        -:    4:extern void f(void);
        -:    5:extern int x(int, char **);
        -:    6:extern int r(const char *);
        -:    7:extern char *s(char *, char **);
        -:    8:extern char *m(char *);
        -:    9:char *u;
        -:   10:char *h;
        -:   11:int check = 0;
        -:   12:int o = 0;
        -:   13:
        1:   14:int main(int argc, char **argv) {
        1:   15:  char *args[] = {"a", "b", "c", "d", "e"};
        1:   16:  if (x(5, args) != 0 || check != 2 || o != 5)
    #####:   17:    abort();
        1:   18:  exit(0);
        -:   19:}
        -:   20:
        1:   21:int x(int argc, char **argv) {
        1:   22:  int opt = 0;
        1:   23:  char *g = 0;
        1:   24:  char *p = 0;
        -:   25:
        1:   26:  if (argc > o && argc > 2 && argv[o]) {
        1:   27:    g = s(argv[o], &p);
        1:   28:    if (g) {
    #####:   29:      *g++ = '\0';
    #####:   30:      h = s(g, &p);
    #####:   31:      if (g == p)
    #####:   32:        h = m(g);
        -:   33:    }
        1:   34:    u = s(argv[o], &p);
        1:   35:    if (argv[o] == p)
    #####:   36:      u = m(argv[o]);
        -:   37:  } else
    #####:   38:    abort();
        -:   39:
        5:   40:  while (++o < argc)
        4:   41:    if (r(argv[o]) == 0)
    #####:   42:      return 1;
        -:   43:
        1:   44:  return 0;
        -:   45:}
        -:   46:
    #####:   47:char *m(char *x) { abort(); }
        2:   48:char *s(char *v, char **pp) {
        2:   49:  if (strcmp(v, "a") != 0 || check++ > 1)
    #####:   50:    abort();
        2:   51:  *pp = v + 1;
        2:   52:  return 0;
        -:   53:}
        -:   54:
        4:   55:int r(const char *f) {
        -:   56:  static char c[2] = "b";
        -:   57:  static int cnt = 0;
        -:   58:
        4:   59:  if (*f != *c || f[1] != c[1] || cnt > 3)
    #####:   60:    abort();
        4:   61:  c[0]++;
        4:   62:  cnt++;
        4:   63:  return 1;
        -:   64:}
