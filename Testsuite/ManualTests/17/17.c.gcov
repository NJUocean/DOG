        -:    0:Source:17.c
        -:    0:Graph:17.gcno
        -:    0:Data:17.gcda
        -:    0:Runs:1
        -:    1:/* { dg-do run } */
        -:    2:/* { dg-options "-O2 -fomit-frame-pointer" } */
        -:    3:/* { dg-options "-O2 -fomit-frame-pointer -march=i386" { target { { i?86-*-*
        -:    4: * x86_64-*-* } && ia32 } } } */
        -:    5:
        -:    6:extern void abort(void);
        -:    7:extern void exit(int);
        -:    8:
        -:    9:struct S {
        -:   10:  int *a;
        -:   11:  unsigned char *b, c;
        -:   12:};
        -:   13:
        -:   14:int u, v, w;
        -:   15:
        1:   16:void foo(unsigned short x) { u += x; }
        -:   17:
    #####:   18:int bar(struct S **x, int *y) {
    #####:   19:  w += *y;
    #####:   20:  *y = w + 25;
    #####:   21:  return 0;
        -:   22:}
        -:   23:
        1:   24:int baz(struct S **x) {
        1:   25:  struct S *y = *x;
        1:   26:  unsigned char *a = y->b;
        -:   27:
        1:   28:  foo(*a);
        -:   29:
        1:   30:  if (__builtin_expect(y->c != 0 || y->a == &v, 0))
        1:   31:    return 1;
        -:   32:
    #####:   33:  if (__builtin_expect(*a == 1, 0)) {
    #####:   34:    int a, b = bar(x, &a);
        -:   35:
    #####:   36:    if (a)
    #####:   37:      return b;
        -:   38:  }
        -:   39:
    #####:   40:  return 0;
        -:   41:}
        -:   42:
        1:   43:int main(void) {
        1:   44:  struct S a, *b = &a;
        -:   45:  unsigned char c;
        -:   46:
        1:   47:  __builtin_memset(b, 0, sizeof(a));
        1:   48:  a.a = &v;
        1:   49:  a.b = &c;
        1:   50:  if (baz(&b) != 1)
    #####:   51:    abort();
        1:   52:  exit(0);
        -:   53:}
