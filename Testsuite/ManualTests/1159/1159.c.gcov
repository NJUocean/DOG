        -:    0:Source:1159.c
        -:    0:Graph:1159.gcno
        -:    0:Data:1159.gcda
        -:    0:Runs:1
        -:    1:/* { dg-do run } */
        -:    2:/* { dg-require-effective-target store_merge } */
        -:    3:/* { dg-options "-O2 -fdump-tree-store-merging" } */
        -:    4:
        -:    5:struct S {
        -:    6:  unsigned char b[2];
        -:    7:  unsigned short c;
        -:    8:  unsigned char d[4];
        -:    9:  unsigned long e;
        -:   10:};
        -:   11:
        1:   12:__attribute__((noipa)) void foo(struct S *p) {
        1:   13:  p->b[1] = 1;
        1:   14:  p->c = 23;
        1:   15:  p->d[0] = 4;
        1:   16:  p->d[1] = 5;
        1:   17:  p->d[2] = 6;
        1:   18:  p->d[3] = 7;
        1:   19:  p->e = 8;
        1:   20:}
        -:   21:
        1:   22:__attribute__((noipa)) void bar(struct S *p) {
        1:   23:  p->b[1] = 9;
        1:   24:  p->c = 112;
        1:   25:  p->d[0] = 10;
        1:   26:  p->d[1] = 11;
        1:   27:}
        -:   28:
        -:   29:struct S s = {{30, 31}, 32, {33, 34, 35, 36}, 37};
        -:   30:
        1:   31:int main() {
        1:   32:  asm volatile("" : : : "memory");
        1:   33:  foo(&s);
        1:   34:  asm volatile("" : : : "memory");
        1:   35:  if (s.b[0] != 30 || s.b[1] != 1 || s.c != 23 || s.d[0] != 4 || s.d[1] != 5 ||
        1:   36:      s.d[2] != 6 || s.d[3] != 7 || s.e != 8)
    #####:   37:    __builtin_abort();
        1:   38:  bar(&s);
        1:   39:  asm volatile("" : : : "memory");
        1:   40:  if (s.b[0] != 30 || s.b[1] != 9 || s.c != 112 || s.d[0] != 10 ||
        1:   41:      s.d[1] != 11 || s.d[2] != 6 || s.d[3] != 7 || s.e != 8)
    #####:   42:    __builtin_abort();
        1:   43:  return 0;
        -:   44:}
        -:   45:
        -:   46:/* { dg-final { scan-tree-dump-times "Merging successful" 2 "store-merging" } }
        -:   47: */
