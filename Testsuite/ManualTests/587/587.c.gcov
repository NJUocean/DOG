        -:    0:Source:587.c
        -:    0:Graph:587.gcno
        -:    0:Data:587.gcda
        -:    0:Runs:1
        -:    1:/* { dg-do run } */
        -:    2:/* { dg-options "-O2 -fipa-pta -fno-tree-fre -fno-tree-sra
        -:    3: * -fdump-ipa-pta2-details -fdelete-null-pointer-checks" } */
        -:    4:
        -:    5:struct X {
        -:    6:  int i;
        -:    7:  void *p;
        -:    8:};
        -:    9:
        1:   10:static void *__attribute__((noinline, noclone)) foo(struct X *q, void *p) {
        -:   11:  struct X b;
        1:   12:  b.p = p;
        1:   13:  *q = b;
        1:   14:  return q->p;
        -:   15:}
        -:   16:extern void abort(void);
        1:   17:int main() {
        -:   18:  struct X a, c;
        -:   19:  void *p;
        1:   20:  a.p = (void *)&c;
        1:   21:  p = foo(&a, &a);
        -:   22:  /* { dg-final { scan-ipa-dump "foo.result = { NULL a\[^ \]* c\[^ \]* }" "pta2"
        -:   23:   * { target { ! keeps_null_pointer_checks } } } } */
        -:   24:  /* { dg-final { scan-ipa-dump "foo.result = { NONLOCAL a\[^ \]* c\[^ \]* }"
        -:   25:   * "pta2" { target { keeps_null_pointer_checks } } } } */
        1:   26:  ((struct X *)p)->p = (void *)0;
        1:   27:  if (a.p != (void *)0)
    #####:   28:    abort();
        1:   29:  return 0;
        -:   30:}
