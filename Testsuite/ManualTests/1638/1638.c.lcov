    1|       |/* PR rtl-optimization/78546 */
    2|       |/* { dg-do run { target int128 } } */
    3|       |
    4|       |typedef unsigned __int128 u128;
    5|       |u128 b;
    6|       |
    7|      1|int main() {
    8|      1|  asm volatile("" : : : "memory");
    9|      1|  u128 x = ((u128)~0x7fffffffffffffffLL) - b;
   10|      1|  u128 y = 1 - x;
   11|      1|  if (y != 0x8000000000000001ULL)
   12|      0|    __builtin_abort();
   13|      1|  return 0;
   14|      1|}

