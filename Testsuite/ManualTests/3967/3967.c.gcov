        -:    0:Source:3967.c
        -:    0:Graph:3967.gcno
        -:    0:Data:3967.gcda
        -:    0:Runs:1
        -:    1:/* PR tree-optimization/80153 */
        -:    2:
        -:    3:void check(int, int, int) __attribute__((noinline));
        6:    4:void check(int c, int c2, int val) {
        6:    5:  if (!val) {
    #####:    6:    __builtin_abort();
        -:    7:  }
        6:    8:}
        -:    9:
        -:   10:static const char *buf;
        -:   11:static int l, i;
        -:   12:
        -:   13:void _fputs(const char *str) __attribute__((noinline));
        1:   14:void _fputs(const char *str) {
        1:   15:  buf = str;
        1:   16:  i = 0;
        1:   17:  l = __builtin_strlen(buf);
        1:   18:}
        -:   19:
        -:   20:char _fgetc() __attribute__((noinline));
        6:   21:char _fgetc() {
        6:   22:  char val = buf[i];
        6:   23:  i++;
        6:   24:  if (i > l)
    #####:   25:    return -1;
        -:   26:  else
        6:   27:    return val;
        -:   28:}
        -:   29:
        -:   30:static const char *string = "oops!\n";
        -:   31:
        1:   32:int main(void) {
        -:   33:  int i;
        -:   34:  int c;
        -:   35:
        1:   36:  _fputs(string);
        -:   37:
        7:   38:  for (i = 0; i < __builtin_strlen(string); i++) {
        6:   39:    c = _fgetc();
        6:   40:    check(c, string[i], c == string[i]);
        -:   41:  }
        -:   42:
        1:   43:  return 0;
        -:   44:}
