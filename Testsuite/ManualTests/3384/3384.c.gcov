        -:    0:Source:3384.c
        -:    0:Graph:3384.gcno
        -:    0:Data:3384.gcda
        -:    0:Runs:1
        -:    1:/* PR rtl-optimization/21330 */
        -:    2:
        -:    3:extern void abort(void);
        -:    4:extern int strcmp(const char *, const char *);
        -:    5:
       33:    6:int __attribute__((noinline)) bar(const char **x) { return *(*x)++; }
        -:    7:
        6:    8:int __attribute__((noinline)) baz(int c) { return c != '@'; }
        -:    9:
        5:   10:void __attribute__((noinline)) foo(const char **w, char *x, _Bool y, _Bool z) {
        5:   11:  char c = bar(w);
        5:   12:  int i = 0;
        -:   13:
        -:   14:  while (1) {
       28:   15:    x[i++] = c;
       28:   16:    c = bar(w);
       28:   17:    if (y && c == '\'')
        2:   18:      break;
       26:   19:    if (z && c == '\"')
        2:   20:      break;
       24:   21:    if (!y && !z && !baz(c))
        1:   22:      break;
        -:   23:  }
        5:   24:  x[i] = 0;
        5:   25:}
        -:   26:
        1:   27:int main(void) {
        -:   28:  char buf[64];
        -:   29:  const char *p;
        1:   30:  p = "abcde'fgh";
        1:   31:  foo(&p, buf, 1, 0);
        1:   32:  if (strcmp(p, "fgh") != 0 || strcmp(buf, "abcde") != 0)
    #####:   33:    abort();
        1:   34:  p = "ABCDEFG\"HI";
        1:   35:  foo(&p, buf, 0, 1);
        1:   36:  if (strcmp(p, "HI") != 0 || strcmp(buf, "ABCDEFG") != 0)
    #####:   37:    abort();
        1:   38:  p = "abcd\"e'fgh";
        1:   39:  foo(&p, buf, 1, 1);
        1:   40:  if (strcmp(p, "e'fgh") != 0 || strcmp(buf, "abcd") != 0)
    #####:   41:    abort();
        1:   42:  p = "ABCDEF'G\"HI";
        1:   43:  foo(&p, buf, 1, 1);
        1:   44:  if (strcmp(p, "G\"HI") != 0 || strcmp(buf, "ABCDEF") != 0)
    #####:   45:    abort();
        1:   46:  p = "abcdef@gh";
        1:   47:  foo(&p, buf, 0, 0);
        1:   48:  if (strcmp(p, "gh") != 0 || strcmp(buf, "abcdef") != 0)
    #####:   49:    abort();
        1:   50:  return 0;
        -:   51:}
