        -:    0:Source:2832.c
        -:    0:Graph:2832.gcno
        -:    0:Data:2832.gcda
        -:    0:Runs:1
        -:    1:/* Test the nvptx atomic instructions for __atomic_fetch_OP for SM_30
        -:    2:   targets.  */
        -:    3:
        -:    4:/* { dg-do compile } */
        -:    5:/* { dg-options "-O2 -misa=sm_30" } */
        -:    6:
        1:    7:int main() {
        1:    8:  unsigned long long a = ~0;
        1:    9:  unsigned b = 0xa;
        -:   10:
        1:   11:  __atomic_fetch_add(&a, b, 0);
        1:   12:  __atomic_fetch_and(&a, b, 0);
        1:   13:  __atomic_fetch_or(&a, b, 0);
        1:   14:  __atomic_fetch_xor(&a, b, 0);
        -:   15:
        1:   16:  return a;
        -:   17:}
        -:   18:
        -:   19:/* { dg-final { scan-assembler-not "atom.b64.add" } } */
        -:   20:/* { dg-final { scan-assembler-not "atom.b64.and" } } */
        -:   21:/* { dg-final { scan-assembler-not "atom.b64.or" } } */
        -:   22:/* { dg-final { scan-assembler-not "atom.b64.xor" } } */
