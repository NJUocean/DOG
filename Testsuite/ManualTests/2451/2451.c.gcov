        -:    0:Source:2451.c
        -:    0:Graph:2451.gcno
        -:    0:Data:2451.gcda
        -:    0:Runs:1
        -:    1:/* { dg-additional-options "-fdump-tree-gimple" } */
        -:    2:/* float reductions.  */
        -:    3:
        -:    4:#define n 1000
        -:    5:
        1:    6:int main(void) {
        -:    7:  int i;
        -:    8:  float result, array[n];
        -:    9:  int lresult;
        -:   10:
        -:   11:  /* '+' reductions.  */
        -:   12:#pragma acc parallel
        -:   13:#pragma acc loop gang worker vector reduction(+ : result)
     1001:   14:  for (i = 0; i < n; i++)
     1000:   15:    result += array[i];
        -:   16:
        -:   17:    /* '*' reductions.  */
        -:   18:#pragma acc parallel
        -:   19:#pragma acc loop gang worker vector reduction(* : result)
     1001:   20:  for (i = 0; i < n; i++)
     1000:   21:    result *= array[i];
        -:   22:
        -:   23:    /* 'max' reductions.  */
        -:   24:#pragma acc parallel
        -:   25:#pragma acc loop gang worker vector reduction(max : result)
     1001:   26:  for (i = 0; i < n; i++)
     1000:   27:    result = result > array[i] ? result : array[i];
        -:   28:
        -:   29:    /* 'min' reductions.  */
        -:   30:#pragma acc parallel
        -:   31:#pragma acc loop gang worker vector reduction(min : result)
     1001:   32:  for (i = 0; i < n; i++)
     1000:   33:    result = result < array[i] ? result : array[i];
        -:   34:
        -:   35:    /* '&&' reductions.  */
        -:   36:#pragma acc parallel
        -:   37:#pragma acc loop gang worker vector reduction(&& : lresult)
     1001:   38:  for (i = 0; i < n; i++)
    1000*:   39:    lresult = lresult && (result > array[i]);
        -:   40:
        -:   41:    /* '||' reductions.  */
        -:   42:#pragma acc parallel
        -:   43:#pragma acc loop gang worker vector reduction(|| : lresult)
     1001:   44:  for (i = 0; i < n; i++)
     1000:   45:    lresult = lresult || (result > array[i]);
        -:   46:
        1:   47:  return 0;
        -:   48:}
        -:   49:
        -:   50:/* Check that default copy maps are generated for loop reductions.  */
        -:   51:/* { dg-final { scan-tree-dump-times "map\\(tofrom:result \\\[len:
        -:   52: * \[0-9\]+\\\]\\)" 4 "gimple" } } */
        -:   53:/* { dg-final { scan-tree-dump-times "map\\(tofrom:lresult \\\[len:
        -:   54: * \[0-9\]+\\\]\\)" 2 "gimple" } } */
