        -:    0:Source:1164.c
        -:    0:Graph:1164.gcno
        -:    0:Data:1164.gcda
        -:    0:Runs:1
        -:    1:/* { dg-do run } */
        -:    2:/* { dg-require-effective-target store_merge } */
        -:    3:/* { dg-options "-O2 -fdump-tree-store-merging" } */
        -:    4:
        -:    5:extern void abort(void);
        -:    6:
        -:    7:struct S1 {
        -:    8:  unsigned int flag : 1;
        -:    9:  unsigned int size : 31;
        -:   10:};
        -:   11:
        1:   12:__attribute__((noipa)) void foo1(struct S1 *s, unsigned int size) {
        1:   13:  s->flag = 1;
        1:   14:  s->size = size & 0x7FFFFFFF;
        1:   15:}
        -:   16:
        -:   17:struct S2 {
        -:   18:  unsigned int flag : 1;
        -:   19:  unsigned int size : 15;
        -:   20:  unsigned short count;
        -:   21:};
        -:   22:
        1:   23:__attribute__((noipa)) void foo2(struct S2 *s, unsigned short size) {
        1:   24:  s->flag = 1;
        1:   25:  s->size = size;
        1:   26:  s->count = 0xABCD;
        1:   27:}
        -:   28:
        -:   29:struct S3 {
        -:   30:  unsigned int n1 : 4;
        -:   31:  unsigned int c : 8;
        -:   32:  unsigned int n2 : 4;
        -:   33:};
        -:   34:
        1:   35:__attribute__((noipa)) void foo3(struct S3 *s, unsigned char n1,
        -:   36:                                 unsigned char c, unsigned char n2) {
        1:   37:  s->n1 = n1 & 0xF;
        1:   38:  s->n2 = n2 & 0xF;
        1:   39:  s->c = c;
        1:   40:}
        -:   41:
        1:   42:int main(void) {
        -:   43:  struct S1 s1;
        -:   44:  struct S2 s2;
        -:   45:  struct S3 s3;
        -:   46:
        1:   47:  foo1(&s1, 0x12345678);
        1:   48:  if (s1.flag != 1 || s1.size != 0x12345678)
    #####:   49:    abort();
        -:   50:
        1:   51:  foo2(&s2, 0x1234);
        1:   52:  if (s2.flag != 1 || s2.size != 0x1234 || s2.count != 0xABCD)
    #####:   53:    abort();
        -:   54:
        1:   55:  foo3(&s3, 0x12, 0x34, 0x56);
        1:   56:  if (s3.n1 != 0x2 || s3.c != 0x34 || s3.n2 != 0x6)
    #####:   57:    abort();
        -:   58:
        1:   59:  return 0;
        -:   60:}
        -:   61:
        -:   62:/* { dg-final { scan-tree-dump-times "Merging successful" 3 "store-merging" } }
        -:   63: */
