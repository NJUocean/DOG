        -:    0:Source:3993.c
        -:    0:Graph:3993.gcno
        -:    0:Data:3993.gcda
        -:    0:Runs:1
        -:    1:/* PR tree-optimization/84478 */
        -:    2:
        -:    3:long poolptr;
        -:    4:unsigned char *strpool;
        -:    5:static const char *poolfilearr[] = {"mu", "",
        -:    6:#define A "x",
        -:    7:#define B A "xx", A A "xxx", A A A A A
        -:    8:#define C B B B B B B B B B B
        -:    9:#define D C C C C C C C C C C
        -:   10:                                    D C C C C C C C B B B((void *)0)};
        -:   11:
     1732:   12:__attribute__((noipa)) long makestring(void) { return 1; }
        -:   13:
        1:   14:__attribute__((noipa)) long loadpoolstrings(long spare_size) {
        -:   15:  const char *s;
        1:   16:  long g = 0;
        1:   17:  int i = 0, j = 0;
     1733:   18:  while ((s = poolfilearr[j++])) {
     1732:   19:    int l = __builtin_strlen(s);
     1732:   20:    i += l;
     1732:   21:    if (i >= spare_size)
    #####:   22:      return 0;
     3983:   23:    while (l-- > 0)
     2251:   24:      strpool[poolptr++] = *s++;
     1732:   25:    g = makestring();
        -:   26:  }
        1:   27:  return g;
        -:   28:}
        -:   29:
        1:   30:int main() {
        1:   31:  strpool = __builtin_malloc(4000);
        1:   32:  if (!strpool)
    #####:   33:    return 0;
        1:   34:  asm volatile("" : : : "memory");
        1:   35:  volatile int r = loadpoolstrings(4000);
        1:   36:  __builtin_free(strpool);
        1:   37:  return 0;
        -:   38:}
