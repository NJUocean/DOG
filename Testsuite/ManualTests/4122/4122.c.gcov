        -:    0:Source:4122.c
        -:    0:Graph:4122.gcno
        -:    0:Data:4122.gcda
        -:    0:Runs:1
        -:    1:/* Undefined behavior from a call to va_arg with a type other than
        -:    2:   that of the argument passed (in particular, with a type such as
        -:    3:   "float" that can never be the type of an argument passed through
        -:    4:   "...") does not appear until after the va_list expression is
        -:    5:   evaluated.  PR 38483.  */
        -:    6:/* Origin: Joseph Myers <joseph@codesourcery.com> */
        -:    7:
        -:    8:#include <stdarg.h>
        -:    9:
        -:   10:extern void exit(int);
        -:   11:extern void abort(void);
        -:   12:
        -:   13:va_list ap;
        -:   14:float f;
        -:   15:
        1:   16:va_list *foo(void) {
        1:   17:  exit(0);
        -:   18:  return &ap;
        -:   19:}
        -:   20:
        1:   21:void bar(int i, ...) {
        1:   22:  va_start(ap, i);
       1*:   23:  f = va_arg(*foo(), float);
        -:   24:  va_end(ap);
        -:   25:}
        -:   26:
        1:   27:int main(void) {
        1:   28:  bar(1, 0);
    #####:   29:  abort();
        -:   30:}
