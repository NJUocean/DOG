        -:    0:Source:2410.c
        -:    0:Graph:2410.gcno
        -:    0:Data:2410.gcda
        -:    0:Runs:1
        -:    1:typedef struct _RenderInfo RenderInfo;
        -:    2:struct _RenderInfo {
        -:    3:  int y;
        -:    4:  float scaley;
        -:    5:  int src_y;
        -:    6:};
        -:    7:
      256:    8:static void bar(void) {}
        -:    9:
        1:   10:static int render_image_rgb_a(RenderInfo *info) {
        -:   11:  int y, ye;
        -:   12:  float error;
        -:   13:  float step;
        -:   14:
        1:   15:  y = info->y;
        1:   16:  ye = 256;
        -:   17:
        1:   18:  step = 1.0 / info->scaley;
        -:   19:
        1:   20:  error = y * step;
        1:   21:  error -= ((int)error) - step;
        -:   22:
      257:   23:  for (; y < ye; y++) {
      256:   24:    if (error >= 1.0) {
      256:   25:      info->src_y += (int)error;
      256:   26:      error -= (int)error;
      256:   27:      bar();
        -:   28:    }
      256:   29:    error += step;
        -:   30:  }
        1:   31:  return info->src_y;
        -:   32:}
        -:   33:
        1:   34:int main(void) {
        -:   35:  RenderInfo info;
        -:   36:
        1:   37:  info.y = 0;
        1:   38:  info.src_y = 0;
        1:   39:  info.scaley = 1.0;
        -:   40:
        1:   41:  if (render_image_rgb_a(&info) != 256)
    #####:   42:    abort();
        1:   43:  exit(0);
        -:   44:}
