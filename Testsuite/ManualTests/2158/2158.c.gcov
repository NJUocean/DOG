        -:    0:Source:2158.c
        -:    0:Graph:2158.gcno
        -:    0:Data:2158.gcda
        -:    0:Runs:1
        -:    1:/* Contributed by Kris Van Hees <kris.van.hees@oracle.com> */
        -:    2:/* Test the support for char16_t character constants. */
        -:    3:/* { dg-do run } */
        -:    4:/* { dg-options "-std=gnu99 -Wall -Werror" } */
        -:    5:
        -:    6:typedef __CHAR16_TYPE__ char16_t;
        -:    7:
        -:    8:extern void abort(void);
        -:    9:
        -:   10:char16_t c0 = u'a';
        -:   11:char16_t c1 = u'\0';
        -:   12:char16_t c2 = u'\u0024';
        -:   13:char16_t c3 = u'\u2029';
        -:   14:char16_t c4 = u'\u8010';
        -:   15:
        -:   16:char16_t c5 = 'a';
        -:   17:char16_t c6 = U'a';
        -:   18:char16_t c7 = U'\u2029';
        -:   19:char16_t c8 = U'\u8010';
        -:   20:char16_t c9 = L'a';
        -:   21:char16_t ca = L'\u2029';
        -:   22:char16_t cb = L'\u8010';
        -:   23:
        -:   24:#define A 0x0061
        -:   25:#define D 0x0024
        -:   26:#define X 0x2029
        -:   27:#define Y 0x8010
        -:   28:
        1:   29:int main() {
        -:   30:  if (sizeof(u'a') != sizeof(char16_t))
        -:   31:    abort();
        -:   32:  if (sizeof(u'\0') != sizeof(char16_t))
        -:   33:    abort();
        -:   34:  if (sizeof(u'\u0024') != sizeof(char16_t))
        -:   35:    abort();
        -:   36:  if (sizeof(u'\u2029') != sizeof(char16_t))
        -:   37:    abort();
        -:   38:  if (sizeof(u'\u8010') != sizeof(char16_t))
        -:   39:    abort();
        -:   40:
        1:   41:  if (c0 != A)
    #####:   42:    abort();
        1:   43:  if (c1 != 0x0000)
    #####:   44:    abort();
        1:   45:  if (c2 != D)
    #####:   46:    abort();
        1:   47:  if (c3 != X)
    #####:   48:    abort();
        1:   49:  if (c4 != Y)
    #####:   50:    abort();
        -:   51:
        1:   52:  if (c5 != A)
    #####:   53:    abort();
        1:   54:  if (c6 != A)
    #####:   55:    abort();
        1:   56:  if (c7 != X)
    #####:   57:    abort();
        1:   58:  if (c8 != Y)
    #####:   59:    abort();
        1:   60:  if (c9 != A)
    #####:   61:    abort();
        1:   62:  if (ca != X)
    #####:   63:    abort();
        1:   64:  if (cb != Y)
    #####:   65:    abort();
        -:   66:}
