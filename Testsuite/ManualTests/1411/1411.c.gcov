        -:    0:Source:1411.c
        -:    0:Graph:1411.gcno
        -:    0:Data:1411.gcda
        -:    0:Runs:1
        -:    1:/* PR tree-optimization/53366 */
        -:    2:/* { dg-do run { target { size32plus } } } */
        -:    3:/* { dg-require-effective-target size32plus } */
        -:    4:
        -:    5:extern void abort(void);
        -:    6:
        -:    7:struct S {
        -:    8:  double v[3];
        -:    9:};
        -:   10:struct T {
        -:   11:  struct S r, i;
        -:   12:};
        -:   13:struct U {
        -:   14:  struct T j[5];
        -:   15:};
        -:   16:
        1:   17:void foo(struct U *__restrict p1, struct U *__restrict p2, struct S l1,
        -:   18:         struct S l2, struct S l3, struct S l4,
        -:   19:         const double _Complex *__restrict x, int y, int z) {
        -:   20:  int i, j;
      250:   21:  while (y < z - 2) {
     1494:   22:    for (j = 0; j < 5; ++j) {
     1245:   23:      double a = __real__ x[5 * y + j];
     1245:   24:      double b = __imag__ x[5 * y + j];
     1245:   25:      double c = __real__ x[5 * (y + 2) + j];
     1245:   26:      double d = __imag__ x[5 * (y + 2) + j];
     1245:   27:      double e = __real__ x[5 * (y + 1) + j];
     1245:   28:      double f = __imag__ x[5 * (y + 1) + j];
     1245:   29:      double g = __real__ x[5 * (y + 3) + j];
     1245:   30:      double h = __imag__ x[5 * (y + 3) + j];
     4980:   31:      for (i = 0; i < 3; ++i) {
     3735:   32:        p1->j[j].r.v[i] += l2.v[i] * a;
     3735:   33:        p1->j[j].r.v[i] += l4.v[i] * c;
     3735:   34:        p1->j[j].i.v[i] += l2.v[i] * b;
     3735:   35:        p1->j[j].i.v[i] += l4.v[i] * d;
     3735:   36:        p2->j[j].r.v[i] += l3.v[i] * e;
     3735:   37:        p2->j[j].r.v[i] += l1.v[i] * g;
     3735:   38:        p2->j[j].i.v[i] += l3.v[i] * f;
     3735:   39:        p2->j[j].i.v[i] += l1.v[i] * h;
        -:   40:      }
        -:   41:    }
      249:   42:    y += 4;
        -:   43:  }
        1:   44:}
        -:   45:
        -:   46:_Complex double x[5005];
        -:   47:struct U p1, p2;
        -:   48:
        1:   49:int main() {
        -:   50:  int i, j;
        -:   51:  struct S l1, l2, l3, l4;
     5006:   52:  for (i = 0; i < 5005; ++i)
     5005:   53:    x[i] = i + 1.0iF * (2 * i);
        4:   54:  for (i = 0; i < 3; ++i) {
        3:   55:    l1.v[i] = 1;
        3:   56:    l2.v[i] = 2;
        3:   57:    l3.v[i] = 3;
        3:   58:    l4.v[i] = 4;
        -:   59:  }
        1:   60:  foo(&p1, &p2, l1, l2, l3, l4, x, 5, 1000);
        6:   61:  for (j = 0; j < 5; ++j)
       20:   62:    for (i = 0; i < 3; ++i)
       15:   63:      if (p1.j[j].r.v[i] != 3752430 + j * 1494.0 ||
       15:   64:          p1.j[j].i.v[i] != p1.j[j].r.v[i] * 2 ||
       15:   65:          p2.j[j].r.v[i] != 2502450 + j * 996.0 ||
       15:   66:          p2.j[j].i.v[i] != p2.j[j].r.v[i] * 2)
    #####:   67:        abort();
        1:   68:  return 0;
        -:   69:}
