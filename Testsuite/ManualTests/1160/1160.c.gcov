        -:    0:Source:1160.c
        -:    0:Graph:1160.gcno
        -:    0:Data:1160.gcda
        -:    0:Runs:1
        -:    1:/* { dg-do run } */
        -:    2:/* { dg-require-effective-target store_merge } */
        -:    3:/* { dg-options "-O2 -fdump-tree-store-merging" } */
        -:    4:
        -:    5:struct S {
        -:    6:  unsigned char a, b;
        -:    7:  unsigned short c;
        -:    8:  unsigned char d, e, f, g;
        -:    9:  unsigned long long h;
        -:   10:};
        -:   11:
        1:   12:__attribute__((noipa)) void f1(struct S *__restrict p, struct S *__restrict q) {
        1:   13:  p->a = ~q->a;
        1:   14:  p->b = q->b;
        1:   15:  p->c = ~q->c;
        1:   16:  p->d = ~q->d;
        1:   17:  p->e = q->e;
        1:   18:  p->f = ~q->f;
        1:   19:  p->g = ~q->g;
        1:   20:}
        -:   21:
        1:   22:__attribute__((noipa)) void f2(struct S *__restrict p, struct S *__restrict q) {
        1:   23:  p->a = ~(unsigned char)(p->a & q->a);
        1:   24:  p->b = ((unsigned char)~p->b) & q->b;
        1:   25:  p->c = p->c & (unsigned short)~q->c;
        1:   26:  p->d = p->d & q->d;
        1:   27:  p->e = p->e & (unsigned char)~q->e;
        1:   28:  p->f = p->f & (unsigned char)~q->f;
        1:   29:  p->g = ~(unsigned char)(p->g & q->g);
        1:   30:}
        -:   31:
        -:   32:struct S s = {20, 21, 22, 23, 24, 25, 26, 27};
        -:   33:struct S u = {28, 29, 30, 31, 32, 33, 34, 35};
        -:   34:struct S v = {36, 37, 38, 39, 40, 41, 42, 43};
        -:   35:
        1:   36:int main() {
        1:   37:  asm volatile("" : : : "memory");
        1:   38:  f1(&s, &u);
        1:   39:  asm volatile("" : : : "memory");
        1:   40:  if (s.a != (unsigned char)~28 || s.b != 29 || s.c != (unsigned short)~30 ||
        1:   41:      s.d != (unsigned char)~31 || s.e != 32 || s.f != (unsigned char)~33 ||
        1:   42:      s.g != (unsigned char)~34 || s.h != 27)
    #####:   43:    __builtin_abort();
        1:   44:  f2(&u, &v);
        1:   45:  asm volatile("" : : : "memory");
        1:   46:  if (u.a != (unsigned char)~(28 & 36) || u.b != (((unsigned char)~29) & 37) ||
        1:   47:      u.c != (30 & (unsigned short)~38) || u.d != (31 & 39) ||
        1:   48:      u.e != (32 & (unsigned char)~40) || u.f != (33 & (unsigned char)~41) ||
        1:   49:      u.g != (unsigned char)~(34 & 42) || u.h != 35)
    #####:   50:    __builtin_abort();
        1:   51:  return 0;
        -:   52:}
        -:   53:
        -:   54:/* { dg-final { scan-tree-dump-times "Merging successful" 2 "store-merging" } }
        -:   55: */
