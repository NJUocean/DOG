        -:    0:Source:1199.c
        -:    0:Graph:1199.gcno
        -:    0:Data:1199.gcda
        -:    0:Runs:1
        -:    1:/* PR target/29198 */
        -:    2:/* { dg-do run } */
        -:    3:/* { dg-options "-O2 -fpic" } */
        -:    4:/* { dg-require-effective-target tls_runtime } */
        -:    5:/* { dg-add-options tls } */
        -:    6:/* { dg-require-effective-target fpic } */
        -:    7:
        -:    8:extern void abort(void);
        -:    9:
        -:   10:int f2(int, int, int, int);
        -:   11:struct s {
        -:   12:  char b[4];
        -:   13:};
        -:   14:__thread struct s thra[2];
        -:   15:
        2:   16:void __attribute__((noinline)) f1(int a1, int a2) {
        -:   17:  int i, j;
       10:   18:  for (i = 0; i < 4; i++) {
        8:   19:    int tot = 0;
       40:   20:    for (j = 0; j < 4; j++)
       32:   21:      tot += f2(a1, a2, i, j);
        8:   22:    *(&thra[0].b[0] + i) = tot;
        -:   23:  }
        2:   24:}
        -:   25:
       32:   26:int __attribute__((noinline)) f2(int a, int b, int c, int d) {
       32:   27:  return a + b + c + d;
        -:   28:}
        -:   29:
        1:   30:int main(void) {
        1:   31:  f1(0, 0);
        1:   32:  if (thra[0].b[0] != 6 || thra[0].b[1] != 10 || thra[0].b[2] != 14 ||
        1:   33:      thra[0].b[3] != 18)
    #####:   34:    abort();
        1:   35:  f1(2, 3);
        1:   36:  if (thra[0].b[0] != 26 || thra[0].b[1] != 30 || thra[0].b[2] != 34 ||
        1:   37:      thra[0].b[3] != 38)
    #####:   38:    abort();
        1:   39:  return 0;
        -:   40:}
