        -:    0:Source:189.c
        -:    0:Graph:189.gcno
        -:    0:Data:189.gcda
        -:    0:Runs:1
        -:    1:/* Test that __builtin_prefetch does no harm.
        -:    2:
        -:    3:   Prefetch using some invalid rw and locality values.  These must be
        -:    4:   compile-time constants.  */
        -:    5:
        -:    6:/* { dg-do run } */
        -:    7:
        -:    8:extern void exit(int);
        -:    9:
        -:   10:enum locality { none, low, moderate, high, bogus };
        -:   11:enum rw { read, write };
        -:   12:
        -:   13:int arr[10];
        -:   14:
        1:   15:void good(int *p) {
        1:   16:  __builtin_prefetch(p, 0, 0);
        1:   17:  __builtin_prefetch(p, 0, 1);
        1:   18:  __builtin_prefetch(p, 0, 2);
        1:   19:  __builtin_prefetch(p, 0, 3);
        1:   20:  __builtin_prefetch(p, 1, 0);
        1:   21:  __builtin_prefetch(p, 1, 1);
        1:   22:  __builtin_prefetch(p, 1, 2);
        1:   23:  __builtin_prefetch(p, 1, 3);
        1:   24:}
        -:   25:
        1:   26:void bad(int *p) {
        1:   27:  __builtin_prefetch(p, -1, 0);    /* { dg-warning "invalid second argument to
        -:   28:                                      '__builtin_prefetch'; using zero" } */
        1:   29:  __builtin_prefetch(p, 2, 0);     /* { dg-warning "invalid second argument to
        -:   30:                                      '__builtin_prefetch'; using zero" } */
        1:   31:  __builtin_prefetch(p, bogus, 0); /* { dg-warning "invalid second argument to
        -:   32:                                      '__builtin_prefetch'; using zero" } */
        1:   33:  __builtin_prefetch(p, 0, -1);    /* { dg-warning "invalid third argument to
        -:   34:                                      '__builtin_prefetch'; using zero" } */
        1:   35:  __builtin_prefetch(p, 0, 4);     /* { dg-warning "invalid third argument to
        -:   36:                                      '__builtin_prefetch'; using zero" } */
        1:   37:  __builtin_prefetch(p, 0, bogus); /* { dg-warning "invalid third argument to
        -:   38:                                      '__builtin_prefetch'; using zero" } */
        1:   39:}
        -:   40:
        1:   41:int main() {
        1:   42:  good(arr);
        1:   43:  bad(arr);
        1:   44:  exit(0);
        -:   45:}
