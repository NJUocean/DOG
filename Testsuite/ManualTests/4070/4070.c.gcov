        -:    0:Source:4070.c
        -:    0:Graph:4070.gcno
        -:    0:Data:4070.gcda
        -:    0:Runs:1
        -:    1:/* { dg-require-effective-target int32plus } */
        -:    2:
        -:    3:/* Failed on sparc with -mv8plus because sparc.c:set_extends() thought
        -:    4:   erroneously that SImode ASHIFT chops the upper bits, it does not.  */
        -:    5:
        -:    6:typedef unsigned long long uint64;
        -:    7:
        1:    8:void g(uint64 x, int y, int z, uint64 *p) {
        1:    9:  unsigned w = ((x >> y) & 0xffffffffULL) << (z & 0x1f);
        1:   10:  *p |= (w & 0xffffffffULL) << z;
        1:   11:}
        -:   12:
        1:   13:int main(void) {
        1:   14:  uint64 a = 0;
        1:   15:  g(0xdeadbeef01234567ULL, 0, 0, &a);
        1:   16:  return (a == 0x01234567) ? 0 : 1;
        -:   17:}
