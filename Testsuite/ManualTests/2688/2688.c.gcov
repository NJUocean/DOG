        -:    0:Source:2688.c
        -:    0:Graph:2688.gcno
        -:    0:Data:2688.gcda
        -:    0:Runs:1
        -:    1:/* PR target/67770 */
        -:    2:/* { dg-do run { target ia32 } } */
        -:    3:/* { dg-require-effective-target trampolines } */
        -:    4:/* { dg-options "-O2" } */
        -:    5:
        2:    6:__attribute__((noinline)) void foo(int i, void (*__attribute__((regparm(3)))
        -:    7:                                                bar)(int)) {
        2:    8:  bar(i);
        2:    9:}
        -:   10:
        1:   11:int main() {
        1:   12:  int p = 0;
        -:   13:
        4:   14:  __attribute__((regparm(3), noinline)) void bar(int i) {
        4:   15:    if (__builtin_expect(i, 0))
        2:   16:      ++p;
        4:   17:  }
        -:   18:
        1:   19:  foo(0, bar);
        1:   20:  bar(0);
        -:   21:
        1:   22:  if (p != 0)
    #####:   23:    __builtin_abort();
        -:   24:
        1:   25:  foo(1, bar);
        1:   26:  bar(1);
        -:   27:
        1:   28:  if (p != 2)
    #####:   29:    __builtin_abort();
        -:   30:
        1:   31:  return 0;
        -:   32:}
