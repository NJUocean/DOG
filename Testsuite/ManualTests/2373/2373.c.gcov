        -:    0:Source:2373.c
        -:    0:Graph:2373.gcno
        -:    0:Data:2373.gcda
        -:    0:Runs:1
        -:    1:/* { dg-additional-options "-fdump-tree-gimple" } */
        -:    2:/* Integer reductions.  */
        -:    3:
        -:    4:#define n 1000
        -:    5:
        1:    6:int main(void) {
        -:    7:  int i;
        -:    8:  int result, array[n];
        -:    9:  int lresult;
        -:   10:
        -:   11:  /* '+' reductions.  */
        -:   12:#pragma acc parallel
        -:   13:#pragma acc loop gang worker vector reduction(+ : result)
     1001:   14:  for (i = 0; i < n; i++)
     1000:   15:    result += array[i];
        -:   16:
        -:   17:    /* '*' reductions.  */
        -:   18:#pragma acc parallel
        -:   19:#pragma acc loop gang worker vector reduction(* : result)
     1001:   20:  for (i = 0; i < n; i++)
     1000:   21:    result *= array[i];
        -:   22:
        -:   23:    /* 'max' reductions.  */
        -:   24:#pragma acc parallel
        -:   25:#pragma acc loop gang worker vector reduction(max : result)
     1001:   26:  for (i = 0; i < n; i++)
     1000:   27:    result = result > array[i] ? result : array[i];
        -:   28:
        -:   29:    /* 'min' reductions.  */
        -:   30:#pragma acc parallel
        -:   31:#pragma acc loop gang worker vector reduction(min : result)
     1001:   32:  for (i = 0; i < n; i++)
     1000:   33:    result = result < array[i] ? result : array[i];
        -:   34:
        -:   35:    /* '&' reductions.  */
        -:   36:#pragma acc parallel
        -:   37:#pragma acc loop gang worker vector reduction(& : result)
     1001:   38:  for (i = 0; i < n; i++)
     1000:   39:    result &= array[i];
        -:   40:
        -:   41:    /* '|' reductions.  */
        -:   42:#pragma acc parallel
        -:   43:#pragma acc loop gang worker vector reduction(| : result)
     1001:   44:  for (i = 0; i < n; i++)
     1000:   45:    result |= array[i];
        -:   46:
        -:   47:    /* '^' reductions.  */
        -:   48:#pragma acc parallel
        -:   49:#pragma acc loop gang worker vector reduction(^ : result)
     1001:   50:  for (i = 0; i < n; i++)
     1000:   51:    result ^= array[i];
        -:   52:
        -:   53:    /* '&&' reductions.  */
        -:   54:#pragma acc parallel
        -:   55:#pragma acc loop gang worker vector reduction(&& : lresult)
     1001:   56:  for (i = 0; i < n; i++)
    1000*:   57:    lresult = lresult && (result > array[i]);
        -:   58:
        -:   59:    /* '||' reductions.  */
        -:   60:#pragma acc parallel
        -:   61:#pragma acc loop gang worker vector reduction(|| : lresult)
     1001:   62:  for (i = 0; i < n; i++)
     1000:   63:    lresult = lresult || (result > array[i]);
        -:   64:
        1:   65:  return 0;
        -:   66:}
        -:   67:
        -:   68:/* Check that default copy maps are generated for loop reductions.  */
        -:   69:/* { dg-final { scan-tree-dump-times "map\\(tofrom:result \\\[len:
        -:   70: * \[0-9\]+\\\]\\)" 7 "gimple" } } */
        -:   71:/* { dg-final { scan-tree-dump-times "map\\(tofrom:lresult \\\[len:
        -:   72: * \[0-9\]+\\\]\\)" 2 "gimple" } } */
