        -:    0:Source:2629.c
        -:    0:Graph:2629.gcno
        -:    0:Data:2629.gcda
        -:    0:Runs:1
        -:    1:/* PR middle-end/37870 */
        -:    2:/* { dg-do run } */
        -:    3:/* { dg-options "-O2 -mlong-double-80" } */
        -:    4:
        3:    5:unsigned int foo(long double x) {
        -:    6:  struct {
        -:    7:    char a[8];
        -:    8:    unsigned int b : 7;
        -:    9:  } c;
        3:   10:  __builtin_memcpy(&c, &x, sizeof(c));
        3:   11:  return c.b;
        -:   12:}
        -:   13:
        3:   14:unsigned int bar(long double x) {
        -:   15:  union {
        -:   16:    struct {
        -:   17:      char a[8];
        -:   18:      unsigned int b : 7;
        -:   19:    } c;
        -:   20:    long double d;
        -:   21:  } u;
        3:   22:  u.d = x;
        3:   23:  return u.c.b;
        -:   24:}
        -:   25:
        1:   26:int main(void) {
        2:   27:  if (foo(1.245L) != bar(1.245L) || foo(245.67L) != bar(245.67L) ||
        1:   28:      foo(0.00567L) != bar(0.00567L))
    #####:   29:    __builtin_abort();
        1:   30:  return 0;
        -:   31:}
