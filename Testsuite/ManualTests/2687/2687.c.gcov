        -:    0:Source:2687.c
        -:    0:Graph:2687.gcno
        -:    0:Data:2687.gcda
        -:    0:Runs:1
        -:    1:/* { dg-do run { target ia32 } } */
        -:    2:/* { dg-options "-O0 -mregparm=3" } */
        -:    3:
        -:    4:typedef int ptrdiff_t;
        -:    5:extern void abort(void);
        3:    6:int check_int(int *i, int align) {
        3:    7:  *i = 20;
        3:    8:  if ((((ptrdiff_t)i) & (align - 1)) != 0)
    #####:    9:    abort();
        3:   10:  return *i;
        -:   11:}
    #####:   12:void check(void *p, int align) {
    #####:   13:  if ((((ptrdiff_t)p) & (align - 1)) != 0)
    #####:   14:    abort();
    #####:   15:}
        -:   16:typedef int aligned __attribute__((aligned(64)));
        1:   17:void foo(void) {
        -:   18:  aligned j;
        1:   19:  void bar() {
        -:   20:    aligned i;
        1:   21:    if (check_int(&i, __alignof__(i)) != i)
    #####:   22:      abort();
        1:   23:    if (check_int(&j, __alignof__(j)) != j)
    #####:   24:      abort();
        1:   25:    j = -20;
        1:   26:  }
        1:   27:  bar();
        1:   28:  if (j != -20)
    #####:   29:    abort();
        1:   30:  if (check_int(&j, __alignof__(j)) != j)
    #####:   31:    abort();
        1:   32:}
        1:   33:int main() {
        1:   34:  foo();
        1:   35:  return 0;
        -:   36:}
