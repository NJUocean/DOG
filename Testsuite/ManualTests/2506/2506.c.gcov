        -:    0:Source:2506.c
        -:    0:Graph:2506.gcno
        -:    0:Data:2506.gcda
        -:    0:Runs:1
        -:    1:/* Test builtin-memcpy (which may emit different code for different N).  */
        -:    2:#include <string.h>
        -:    3:
        -:    4:#define TESTSIZE 80
        -:    5:
        -:    6:char src[TESTSIZE] __attribute__((aligned));
        -:    7:char dst[TESTSIZE] __attribute__((aligned));
        -:    8:
       80:    9:void check(char *test, char *match, int n) {
       80:   10:  if (memcmp(test, match, n))
    #####:   11:    abort();
       80:   12:}
        -:   13:
        -:   14:#define TN(n)                                                                  \
        -:   15:  {                                                                            \
        -:   16:    memset(dst, 0, n);                                                         \
        -:   17:    memcpy(dst, src, n);                                                       \
        -:   18:    check(dst, src, n);                                                        \
        -:   19:  }
        -:   20:#define T(n)                                                                   \
        -:   21:  TN(n)                                                                        \
        -:   22:  TN((n) + 1)                                                                  \
        -:   23:  TN((n) + 2)                                                                  \
        -:   24:  TN((n) + 3)
        -:   25:
        1:   26:main() {
        -:   27:  int i, j;
        -:   28:
       81:   29:  for (i = 0; i < sizeof(src); ++i)
       80:   30:    src[i] = 'a' + i % 26;
        -:   31:
        1:   32:  T(0);
        1:   33:  T(4);
        1:   34:  T(8);
        1:   35:  T(12);
        1:   36:  T(16);
        1:   37:  T(20);
        1:   38:  T(24);
        1:   39:  T(28);
        1:   40:  T(32);
        1:   41:  T(36);
        1:   42:  T(40);
        1:   43:  T(44);
        1:   44:  T(48);
        1:   45:  T(52);
        1:   46:  T(56);
        1:   47:  T(60);
        1:   48:  T(64);
        1:   49:  T(68);
        1:   50:  T(72);
        1:   51:  T(76);
        -:   52:
        1:   53:  return 0;
        -:   54:}
